<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button>
        
      </ion-menu-button>

    </ion-buttons>
    <ion-buttons slot="secondary">
      <ion-button (click)="logOut()">
        <ion-icon slot="start" name="log-out" style="width: 23px;height: 30px;"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title style="margin-left: 30%;font-weight: bold;" >History</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngFor="let date of dates; let i = index">
    <ion-item *ngIf="!opened" >
      <ion-label text-wrap style="margin-right:10px">
        <h2 style="font-size: 16px;font-family: Poppins">
            {{date}}
        </h2>
    </ion-label>
    <ion-thumbnail class="Go" slot="end">
      <ion-button class="Button" color="light" size="medium" shape ="round" (click) ="open(i)" ><ion-img style="height: 20px;width: 20px" src="../../assets/next.png"></ion-img></ion-button>
  </ion-thumbnail>
    </ion-item>
  </div>
  <div *ngIf="opened">
    <ion-button class="Button" color="light" size="medium" shape ="round" (click) ="back()" ><ion-img style="height: 20px;width: 20px" src="../../assets/back.png"></ion-img></ion-button>
    <div *ngIf="!allowed" style="margin-top: 10%;margin-left: 25%;">
      <h2 style="font-size: 16px;font-family: Poppins">
        {{date}}
    </h2>
    </div>
    <div *ngFor="let element of history; let i = index">
      <ion-item>
        <ion-label text-wrap style="margin-right:10px">
          <h2 style="font-size: 16px;font-family: Poppins">
              {{element.common_name}}
          </h2>
          <p style="font-size: 14px;font-family: Poppins;color:#0cd1e8;">Probability : {{element.probability}}</p>
      </ion-label>
      </ion-item>
    </div>
  </div>

</ion-content>
